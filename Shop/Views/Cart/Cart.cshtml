
@{
    ViewBag.Title = "Cart";
}

<div ng-app="cart" ng-controller="cartController">

    <div class="panel panel-body" ng-switch="models.mode">
        <div ng-switch-when="cart">
            <div class="jumbotron">
                <table class="table table-bordered table-striped">
                    <caption>Товары в корзине</caption>
                    <tr>
                        <th>№</th>
                        <th>Товар</th>
                        <th>Количество</th>
                        <th>Цена</th>
                        <th>Сумма</th>
                    </tr>
            
                    <tr ng-repeat="rowData in models.orderRows">
                        <td>{{rowData.rowId}}</td>
                        <td>{{rowData.productName}}</td>
                        <td>{{rowData.qty}}</td>
                        <td>{{rowData.price}}</td>
                        <td>{{rowData.sum}}</td>

                    </tr>

                    <tr>
                        <td colspan="4">Итого:</td>
                        <td>{{models.total}}</td>

                    </tr>


                </table>
                                
                <button ng-click="gotoPaymentCmd()"> Перейти к оплате </button>
                
            </div>
        </div>

        <div ng-switch-when="order">
        
            <h2>Заказ № {{models.orderNumber}} </h2>
            <b> К оплате {{models.Total}}</b>
            <br>
            <button ng-click="paymentCmd"> Оплата </button>

        </div>
        
        <div ng-switch-default>
            
            <h2>Нет товаров в корзине!</h2>

        </div>


    </div>

    @Scripts.Render("~/bundles/cart")

</div>

